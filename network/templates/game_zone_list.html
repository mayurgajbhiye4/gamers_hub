{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load custom_filters %}

<div class="container mt-4" style="max-width: 650px">
  <button class="btn btn-light mb-3" onclick="history.back()">
    <i class="bi bi-arrow-left"></i> Go Back
  </button>

  <h1 class="text-center mb-4">Game Zone</h1>

  <!-- Search Bar -->
  <form id="searchForm" method="GET" action="" class="mb-3">
    <div class="input-group">
      <input type="text" id="searchInput" class="form-control" placeholder="Search for a game..." />
      <button type="submit" class="btn btn-light">Search</button>
    </div>
  </form>

  <div id="gameList" class="list-group">
    {% for game in game_titles %}
    {% if game %}
    <a href="{% url 'game_zone' game_title=game %}"
      class="list-group-item list-group-item-action d-flex align-items-center">

      <img src="#" alt="{{ game }}" class="rounded me-3" width="50"
        onerror="this.src='/static/images/default_game_avatar.jpg';" referrerpolicy="no-referrer">
      <strong>{{ game }}</strong>
    </a>
    {% endif %} {% empty %}
    <p class="text-center">No games available.</p>
    {% endfor %}
  </div>
</div>

<script src="{% static 'js/game_list.js' %}"></script>
{% endblock %}